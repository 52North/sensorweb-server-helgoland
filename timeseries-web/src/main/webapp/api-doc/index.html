<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Documentation REST-API, Version 1</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap-3.0.0-rc1/bootstrap.min.css" rel="stylesheet">
    <link href="css/n52/apidoc-style.css" rel="stylesheet">
  </head>
  <body>

	<div class="container-fluid">

    <!-- 52n nav
    ================================================== -->
    <div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">Timeseries API</a>
        </div>
        <div class="navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="http://52north.org/communities/sensorweb/">Sensor Web</a></li>
            <li><a href="https://github.com/52north/timeseries-api/">Sources</a></li>
            <li><a href="http://blog.52north.org">Blog</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>


    <!-- Content nav
    ================================================== -->
    <div class="col-lg-2 n52-sidebar">
      <div id="contents" class="bs-sidebar hidden-print">
        <a href="http://52north.org" style="position:fixed"><img alt="52&deg;North logo" src="http://52north.org/templates/52n-2012/images/52n-logo.gif"/></a>
        <ul class="nav bs-sidenav" data-spy="affix">

          <li> <!-- General -->
            <a data-toggle="collapse" data-parent="#contents" data-target="#general-subitems" href="#general">General</a>
            <ul id="general-subitems" class="nav collapse">
              <li><a href="#general-content-types">Content-Types</a></li>
              <li><a href="#general-common-query-parameters">Common Query Parameters</a></li>
              <li><a href="#general-paging">Paging</a></li>
              <li><a href="#general-search">Search</a></li>
              <li><a href="#general-common-status-codes">Common Status Codes</a></li>
            </ul>
          </li>
          <li> <!-- Resource Collections -->
            <a data-toggle="collapse" data-parent="#contents" data-target="#resource-collections-subitems"  href="#resource-collections">Collections</a>
            <ul id="resource-collections-subitems" class="nav collapse">
              <li><a href="#resource-collections-urls">URLs</a></li>
              <li><a href="#resource-collections-examples">Examples</a></li>
            </ul>
          </li>
          <li> <!-- Stations -->
            <a data-toggle="collapse" data-parent="#contents" data-target="#stations-subitems"  href="#stations">Stations</a>
            <ul id="stations-subitems" class="nav collapse">
              <li><a href="#stations-urls">URLs</a></li>
              <li><a href="#stations-query-parameters">Query Parmameters</a></li>
              <li><a href="#stations-examples">Examples</a></li>
            </ul>
          </li>
          <li> <!-- Timeseries -->
            <a data-toggle="collapse" data-parent="#contents" data-target="#timeseries-subitems"  href="#timeseries">Timeseries</a>
            <ul id="timeseries-subitems" class="nav collapse">
              <li><a href="#timeseries-urls">URLs</a></li>
              <li><a href="#timeseries-data-urls">Data URLs</a></li>
              <li><a href="#timeseries-query-parameters">Query Parameters</a></li>
              <li><a href="#timeseries-examples">Examples</a></li>
            </ul>
          </li>
          <li> <!-- Styles -->
            <a data-toggle="collapse" data-parent="#contents" data-target="#styles-subitems"  href="#styles">Styles</a>
            <ul id="styles-subitems" class="nav collapse">
              <li><a href="#styles-line-chart">Line Chart</a></li>
              <li><a href="#styles-bar-chart">Bar Chart</a></li>
            </ul>
          </li>
          <li> <!-- Formats -->
            <a data-toggle="collapse" data-parent="#contents" data-target="#formats-subitems"  href="#formats">Data Formats</a>
            <ul id="formats-subitems" class="nav collapse">
              <li><a href="#formats-default">Default Format</a></li>
              <li><a href="#formats-highchart">Highchart Format</a></li>
            </ul>
          </li>
          <li> <!-- Generalization -->
            <a data-toggle="collapse" data-parent="#contents" data-target="#formats-subitems"  href="#generalization">Generalization</a>
            <ul id="formats-subitems" class="nav collapse">
              <li><a href="#generalization-dp">Douglas-Peucker</a></li>
              <li><a href="#generalization-lttb">LTTB Downsample</a></li>
            </ul>
          </li>
          <li> <!-- Parameters -->
            <a data-toggle="collapse" data-parent="#contents" data-target="#parameters-subitems"  href="#parameters">Parameters</a>
            <ul id="parameters-subitems" class="nav collapse">
              <li><a href="#parameter-services">Services</a></li>
              <li><a href="#parameter-categories">Categories</a></li>
              <li><a href="#parameter-phenomena">Phenomena</a></li>
            </ul>
          </li>
          <li> <!-- Legacy/Unstable -->
            <a data-toggle="collapse" data-parent="#contents" data-target="#nonpublic-subitems"  href="#nonpublic">Unstable/Legacy</a>
            <ul id="nonpublic-subitems" class="nav collapse">
              <li><a href="#nonpublic-offerings">Offerings</a></li>
              <li><a href="#nonpublic-features">Features</a></li>
              <li><a href="#nonpublic-procedures">Procedures</a></li>
              <li><a href="#nonpublic-timeseries">Timeseries</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div class="col-lg-9 n52-content">

      <!-- About
      ================================================== -->
      <section id="about">
        <h2>About</h2>
        <div>
          <p>The <a href="http://52north.org">52&deg;North</a> Timeseries API provides a thin access layer to timeseries data via RESTful Web binding. It provides different output formats like json, pdf or png.</p>

          <p>This API development intends to make near realtime sensor data (provided by <a href="http://opengeospatial.org">OGC</a> <a href="http://52north.org/communities/sensorweb/sos/">Sensor Observation Services</a>) better accessible for leightweight clients like mobile devices. However, in addition to the actual Web access layer the Timeseries API offers a Service Provider Interface (SPI) which can be implemented to adapt arbitrary data sources.</p>
        </div>


        <h3>Overview</h3>
        <div>
          <img alt="bigPicture" src="img/big-picture.png" title="Timeseries API within the big picture."/>
        </div>

        <h3>Document status</h3>
        <div class="n52-callout n52-callout-info">
          <table class="table">
            <tr>
              <th>What</th>
              <th>When</th>
            </tr>
            <tr>
              <td>Added <a href="#generalization">generalization section</a>.</td>
              <td>2015-07-06</td>
            </tr>
            <tr>
              <td>Added station <a href="#general-common-query-parameters">to general query parameters</a>.</td>
              <td>2014-02-06</td>
            </tr>
            <tr>
              <td>Create <a href="#nonpublic">legacy section</a> and add low-level SOS concepts.</td>
              <td>2013-12-16</td>
            </tr>
          </table>
        </div>

      </section>

			<!-- General
			================================================== -->
			<section id="general">
				<div class="page-header">
					<h2>General</h2>
					<p class="pull-right up-link">
						<a href="#"><i class="icon-chevron-up"></i> top</a>
					</p>
				</div>
        <div>
					<div id="general-content-types"> <!-- Content-Types -->
						<h3>Content-Types</h3>
						<p>The API provides different content types which can be used to retrieve different types of representation of a requested resource. The actual content types differ for each resource so the ones supported are documented in the appropriate section.</p>
            <p>The only content type supported by each resource is <code>application/json</code>. It is set as the default content type but can be set either via HTTP header or by <code>.json</code> extension.</p>
					</div>

          <div id="general-common-query-parameters"> <!-- Common Query Parameters -->
            <h3>Common Query Parameters</h3>
            <p>Each parameter is optional and can only contain one value. Multiple parameters are combined to an <code>AND</code> query. A resource may specify further query parameters to control/filter output. Special query parameters are described in each section.</p>
            <table class="table">
              <tr>
                <th>Parameter</th>
                <th style="width:25%">Example</th>
                <th>Description</th>
              </tr>
                <tr>
                  <td>
                    <code>expanded</code><br/>
                  </td>
                  <td>
                    <pre>expanded=true</pre>
                  </td>
                  <td><p>If <code>true</code> a list of partially expanded resource items is returned. The expansion provides more detailed information up to a certain point. However, it does not necessarily provide all item information as one may get when request the resource item itself.</p>

                  <p>The <code>expanded</code> works almost only for resource collection. However, exceptions may exist (e.g. for timeseries raw data). Exceptions are explicitly documented.</p>

                  <p>The default is <code>false</code>.</p></td>
                </tr>
                <tr>
                  <td>
                    <code>service</code><br/>
                  </td>
                  <td>
                    <pre>service=srv_sdlfj2</pre>
                  </td>
                  <td>All resources where the given <a href="#parameter-services">service</a> id does match.</td>
                </tr>
                <tr>
                  <td>
                    <code>category</code><br/>
                  </td>
                  <td>
                    <pre>category=cat_sadf2d</pre>
                  </td>
                  <td>All resources where the given <a href="#parameter-categories">category</a> id does match.</td>
                </tr>
                <tr>
                  <td>
                    <code>statiopn</code><br/>
                  </td>
                  <td>
                    <pre>station=sta_sadf2d</pre>
                  </td>
                  <td>All resources where the given <a href="#parameter-stations">station</a> id does match.</td>
                </tr>
                <tr>
                  <td>
                    <code>phenomenon</code>
                  </td>
                  <td>
                    <pre>phenomenon=phe_sdjf210</pre>
                  </td>
                  <td>All resources where the given <a href="#parameter-phenomena">phenomenon</a> id does match.</td>
                </tr>
                <tr>
                  <td>
                    <code>locale</code>
                  </td>
                  <td>
                    <pre>locale=de</pre>
                  </td>
                  <td><p>Specifies the language as <a href="http://en.wikipedia.org/wiki/ISO_639">ISO639</a> code. Subdivisions are respected by an <code>_</code>, e.g. <code>en_US</code> for American English.</p>
                  <p>The REST-API should consider the following order to detect a locale:
                  <ol>
                    <li>User-agent (e.g. header information)</li>
                    <li><code>locale</code> parameter</li>
                  </ol>
                    <p>A fallback language cannot be specified as it depends on the data of the service provider.</p>
                  </td>
                </tr>
            </table>

						<div class="n52-callout n52-callout-info">Note that for <code>GET</code> requests the options have to be <b>URL-encoded</b> appropriately!</div>
          </div>

					<div id="general-paging"> <!-- paging -->
						<h3>Paging</h3>
            <div class="n52-callout n52-callout-todo">
              <p>Paging has to be reviewed and is subject to change. Do not rely on paging parameters, format and paging method like HTTP header links.</p>
            </div>
						<p>Resource collections can optionally been paged by the <code>offset</code> and <code>limit</code> parameters.</p>

						<p>Considering the <a href="http://tools.ietf.org/html/rfc5988">Web Linking (RFC5988)</a> approach the exact location of a page within a collection can be retrieved from response header information.</p>

						<h4>Paging Example</h4>
						<div class="n52-request-example">
							<pre>GET /api/v1/stations?offset=4&amp;limit=2 HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
            <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Link: &lt;/api/v1/stations?offset=4&amp;limit=2>; rel="self"
Link: &lt;/api/v1/stations?offset=0&amp;limit=2>; rel="first"; title="first page"
Link: &lt;/api/v1/stations?offset=2349&amp;limit=2>; rel="last"; title="last page"
Link: &lt;/api/v1/stations?offset=2&amp;limit=2>; rel="prev"; title="previous page"
Link: &lt;/api/v1/stations?offset=6&amp;limit=2>; rel="next"; title="next page"

Content omitted for brevity.
</pre>
						</div>
					</div>

					<div id="general-search"> <!-- fuzzy search -->
						<div>
              <h3>Search</h3>
              <p>The query parameter <code>q</code> allows simple search over resources. Note that the searching respects the current locale being selected.</p>

              <table class="table">
                <tr>
                  <th>Method</th>
                  <th>Path</th>
                  <th>Content-Type</th>
                  <th>Description</th>
                </tr>

                  <tr>
                    <td><code>GET</code></td>
                    <td><code>/api/v1/search?q=mySearch</code></td>
                    <td><code>application/json</code></td>
                    <td>Searches globally over available resources.
                    </td>
                  </tr>

              </table>

              Combined search terms are not supported with this API version.
            </div>
            <div>
              <h3>Output Example</h3>
              <p>A search generates a result collection containing all matching resources as items. An item describes a label where search took place on, a resource type hint and a link to the resource itself.</p>
              <pre>GET /api/v1/search?q=sylt HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre>HTTP/1.1 200 OK

[
  {
    "id": "sta_a4bff7499d440d9bb67ad73e048c5a47",
    "label": "List_Auf_Sylt_9570070",
    "type": "station",
    "href": "./stations/sta_a4bff7499d440d9bb67ad73e048c5a47"
  },
  {
    "id": "ts_c8ed5ddbb89c19b2e385de23eecbde98",
    "label": "Wasserstand@List_Auf_Sylt_9570070",
    "type": "timeseries",
    "href": "./timeseries/ts_c8ed5ddbb89c19b2e385de23eecbde98"
  },
  {
    "id": "foi_25e09ee3155ab0fbf3e4684ad2edffbf",
    "label": "List_Auf_Sylt_9570070",
    "type": "feature",
    "href": "./features/foi_25e09ee3155ab0fbf3e4684ad2edffbf"
  },
  {
    "id": "pro_e878d48e49ebc2a156e2810470bae9a2",
    "label": "Wasserstand-List_Auf_Sylt_9570070",
    "type": "procedure",
    "href": "./procedures/pro_e878d48e49ebc2a156e2810470bae9a2"
  }
]</pre>
            </div>
					</div>

					<div id="general-common-status-codes"> <!-- Status Codes -->
            <h3>Common Status Codes</h3>
            <p>A client shall expect the following HTTP status codes returned by the API.</p>
            <table class="table">
              <tr>
                <th>Code</th>
                <th>When</th>
              </tr>

                <tr>
                  <td><code>200</code></td>
                  <td>Status <code>OK</code>. All went fine.</td>
                </tr>
								<tr>
									<td><code>400</code></td>
									<td>Status <code>Bad Request</code>. The request data cannot be read.</td>
								</tr>
                <tr>
                  <td><code>404</code></td>
                  <td>Status <code>Not Found</code>. The resource is not available.</td>
                </tr>
                <tr>
                  <td><code>500</code></td>
                  <td>Status <code>Internal Server Error</code>. Please contact the webadmin. In some cases an error message will be shown. But in general the server logs will help to trace the problem.</td>
                </tr>

            </table>
          </div>

        </div>
			</section>

			<!-- Resource Collections
			================================================== -->
			<section id="resource-collections">
				<div class="page-header">
					<h2>Collections</h2>
					<p class="pull-right up-link">
						<a href="#"><i class="icon-chevron-up"></i> top</a>
					</p>
				</div>
				<div>
					<div id="resource-collections-urls"> <!-- URLs -->
            <h3>URLs</h3>
            <p>API calls are triggered by using the following URLs.</p>
            <table class="table">
              <tr>
                <th>Method</th>
                <th>Path</th>
                <th>Content-Type</th>
                <th>Description</th>
              </tr>

                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists all resource collections available.</td>
                </tr>

            </table>
          </div>

					<div id="resource-collections-examples"> <!-- Examples -->
            <h3>Examples</h3>
            <div>
              <h4>Simple View</h4>
              <pre>GET /api/v1/ HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre id="resource-collections-examples-simple" class="collapse">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  "services": {
    "id": "services",
    "label": "Service Providers",
    "description": "A collection of service providers each offering timeseries data."
  },
  "categories": {
    "id": "categories",
    "label": "Categories",
    "description": "A collection of categories wherein the available timeseries data can be grouped."
  },
  "offerings": {
    "id": "offerings",
    "label": "Offerings.",
    "description": "A collection of offerings (organizing unit) to filter timeseries data."
  },
  "features": {
    "id": "features",
    "label": "Features.",
    "description": "A collection of features (organizing unit) to filter timeseries data."
  },
  "procedures": {
    "id": "procedures",
    "label": "Procedures.",
    "description": "A collection of procedures (organizing unit) to filter timeseries data."
  },
  "phenomena": {
    "id": "phenomena",
    "label": "Phenomena.",
    "description": "A collection of phenomena (organizing unit) to filter timeseries data."
  },
  "stations": {
    "id": "stations",
    "label": "Stations.",
    "description": "A collection of stations where measurements took/takes place."
  },
  "timeseries": {
    "id": "timeseries",
    "label": "Timeseries.",
    "description": "A collection of timeseries each representing a sequence of data values measured over time."
  }
]</pre>
              <button data-toggle="collapse" data-parent="#resource-collections-examples" data-target="#resource-collections-examples-simple" class="btn btn-primary">Show/Hide Response</button>
            </div>

            <div>
              <h4>Expanded View</h4>
              <pre>GET /api/v1/?expanded=true HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre id="resource-collections-examples-expanded" class="collapse">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "id": "services",
    "label": "Service Provider",
    "description": "A service provider offers timeseries data.",
    "size": 7
  },
  {
    "id": "stations",
    "label": "Station",
    "description": "A station is the place where measurement takes place.",
    "size": 1393
  },
  {
    "id": "timeseries",
    "label": "Timeseries",
    "description": "Represents a sequence of data values measured over time.",
    "size": 5434
  },
  {
    "id": "categories",
    "label": "Category",
    "description": "A category group available timeseries.",
    "size": 0
  },
  {
    "id": "offerings",
    "label": "Offering",
    "description": "An organizing unit to filter resources.",
    "size": 72
  },
  {
    "id": "features",
    "label": "Feature",
    "description": "An organizing unit to filter resources.",
    "size": 1393
  },
  {
    "id": "procedures",
    "label": "Procedure",
    "description": "An organizing unit to filter resources.",
    "size": 1770
  },
  {
    "id": "phenomena",
    "label": "Phenomenon",
    "description": "An organizing unit to filter resources.",
    "size": 62
  }
]</pre>
              <button data-toggle="collapse" data-parent="#resource-collections-examples" data-target="#resource-collections-examples-expanded" class="btn btn-primary">Show/Hide Response</button>
            </div>
          </div>

        </div>
			</section>

			<!-- Stations
			================================================== -->
			<section id="stations">
				<div class="page-header">
					<h1>Stations</h1>
					<p class="pull-right up-link">
						<a href="#"><i class="icon-chevron-up"></i> top</a>
					</p>
				</div>
				<div>
					<div id="stations-urls"><!-- URLs -->
            <h3>URLs</h3>
            <p>API calls are triggered by using the following URLs.</p>
            <table class="table">
              <tr>
                <th>Method</th>
                <th>Path</th>
                <th>Content-Type</th>
                <th>Description</th>
              </tr>

                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/stations</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists all measured stations available.</td>
                </tr>
                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/stations/{id}</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists the measured stations with id <code>{id}</code>.</td>
                </tr>

            </table>
          </div>

          <div id="stations-query-parameters"> <!-- Query Parameters -->
            <h3>Query Parameters</h3>
            <p>The collection can be queried by optional filter parameters.</p>

            <table class="table" style="table-layout:fixed">
              <tr>
                <th style="width:15%">Parameter</th>
                <th>Example</th>
                <th>Description</th>
              </tr>

              <tr>
                <td><code>crs</code> <br/></td>
                <td><pre>crs=EPSG:25832</pre></td>
                <td><p>The client indicates that input geometries shall be interpreted as being referenced by the given CRS (in this case to 'EPSG:25832' (ETRS89 / UTM zone 32N)).</p>
                <p>Per default geometries are referenced by the WGS84 CRS (precisely: CRS84, lon/lat order). If <code>crs</code> value differs from default, all output geometries are transformed to match the asked CRS.</p>
                <p>Please note that some CRS switch coordinate axes. Double check axes ordering before interpreting coordinates!</p>
                <div class="n52-callout n52-callout-info">Future versions of the API may provide kind of a <code>strictXY</code> parameter or similar to give clients more control on this.</div>
                </td>
              </tr>
              <tr>
                <td><code>bbox</code></td>
                <td><pre>bbox={
  'll': {
    "type": "Point",
    "coordinates": [&lt;x>,&lt;y>]
  },
  'ur': {
    "type": "Point",
    "coordinates": [&lt;x>,&lt;y>]
  }
}</pre></td>
                <td><p>Stations within a given bounding box (in WGS84 by default). Refer to the <code>crs</code> parameter if a non-default CRS shall be used.</p>
                </td>
              </tr>
              <tr>
                <td><code>near</code></td>
                <td><pre>near={
  "center": {
    "type": "Point",
    "coordinates": [&lt;x>,&lt;y>]
  },
  "radius":500
}</pre></td>
                <td><p>Stations around a given point (in WGS84 by default). The radius unit is in kilometers (km). Refer to the <code>crs</code> parameter if a non-default CRS shall be used.</p>
                </td>
              </tr>
              <tr>
                <td>
                  <code>service</code><br/>
                </td>
                <td>
                  <pre>service=srv_sdlfj2</pre>
                </td>
                <td>All resources where the given <a href="#parameter-services">service</a> id does match.</td>
              </tr>
              <tr>
                <td>
                  <code>category</code><br/>
                </td>
                <td>
                  <pre>category=cat_sadf2d</pre>
                </td>
                <td>All resources where the given <a href="#parameter-categories">category</a> id does match.</td>
              </tr>
              <tr>
                <td>
                  <code>phenomenon</code>
                </td>
                <td>
                  <pre>phenomenon=phe_sdjf210</pre>
                </td>
                <td>All resources where the given <a href="#parameter-phenomena">phenomenon</a> id does match.</td>
              </tr>
            </table>

            <div class="n52-callout n52-callout-info">For this resource <a href="#general-common-query-parameters">further common query parameters</a> can be used.</div>

            <div class="n52-callout n52-callout-info">Note that for <code>GET</code> requests the options have to be <b>URL-encoded</b> appropriately!</div>
          </div>

					<div id="stations-examples"> <!-- Examples -->
            <h3>Examples</h3>
            <div>
              <h4>Simple Collection</h4>
              <pre>GET /api/v1/stations/ HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre id="stations-examples-simple" class="collapse">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "properties": {
      "id": "sta_5791c95b6d7f4bc70002be938b199cb1",
      "label": "Bramsche"
    },
    "geometry": {
      "coordinates": [
        "7.978186816994513",
        "52.3961713226858"
      ],
      "type": "Point"
    },
    "type": "Feature"
  },
  {
    "properties": {
      "id": "sta_316a8a47dd628e37c93a9fced3292afd",
      "label": "Deggendorf",
    },
    "geometry": {
      "coordinates": [
        "8.978186816994513",
        "51.3961713226858"
      ],
      "type": "Point"
    },
    "type": "Feature"
  }
]</pre>
              <button data-toggle="collapse" data-parent="#stations-examples" data-target="#stations-examples-simple" class="btn btn-primary">Show/Hide Response</button>
              <div class="n52-callout n52-callout-info">
                As <a href="#general-common-query-parameters">noted above</a> <code>expanded=false</code> is the default. Setting the parameter to <code>false</code> explicitly will have the same effect.
              </div>
            </div>
            <div>
              <h4>Expanded Collection</h4>
              <pre>GET /api/v1/stations/?expanded=true HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre id="stations-examples-expanded" class="collapse">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "properties": {
      "id": "sta_a1164b01586abf442ad312211d9f18e",
      "timeseries": {
        "ts_e6a9b2f10f2ff6a47da6ffeab747dc5a": {
          "phenomenon": {
            "id": "phe_4af57a13bb7fb9af7618fc6d74af3523",
            "label": "Abfluss"
          },
          "service": {
            "id": "srv_1a5bde0a6d702f193f7be463402ec12f",
            "label": "PEGELONLINE SOS"
          },
          "feature": {
            "id": "foi_c0ac9e8284131ef14094dcc3795925ae",
            "label": "Hattingen_2769510000100"
          },
          "offering": {
            "id": "off_5ba539e42edf995faaf923414760b9a5",
            "label": "ABFLUSS_ROHDATEN"
          },
          "procedure": {
            "id": "pro_89fc01ce9c37de1b787a3f75082a0632",
            "label": "Abfluss-Hattingen_2769510000100"
          }
        }
      },
      "label": "Hattingen_2769510000100"
    },
    "geometry": {
      "coordinates": [
        7.161047770931211,
        51.39975938475634
      ],
      "type": "Point"
    },
    "type": "Feature"
  },
  {
    "properties": {
      "id": "sta_98a0659ad84f3cfe14e0497b887dacfe",
      "timeseries": {
        "ts_7e0faa5796eabd3f0afddbf6112947f9": {
          "phenomenon": {
            "id": "phe_4af57a13bb7fb9af7618fc6d74af3523",
            "label": "Abfluss"
          },
          "service": {
            "id": "srv_1a5bde0a6d702f193f7be463402ec12f",
            "label": "PEGELONLINE SOS"
          },
          "feature": {
            "id": "foi_215db512cff2862ac8b2c1e0e345de0c",
            "label": "Ruhrort_2770010"
          },
          "offering": {
            "id": "off_5ba539e42edf995faaf923414760b9a5",
            "label": "ABFLUSS_ROHDATEN"
          },
          "procedure": {
            "id": "pro_a61248f63725cacc648f1ca3706048fd",
            "label": "Abfluss-Ruhrort_2770010"
          }
        },
        "ts_795f67d458d00de0f2686afa796a898b": {
          "phenomenon": {
            "id": "phe_f60bcfb1f6ac3d37210b5d757a1bf48e",
            "label": "Wasserstand"
          },
          "service": {
            "id": "srv_1a5bde0a6d702f193f7be463402ec12f",
            "label": "PEGELONLINE SOS"
          },
          "feature": {
            "id": "foi_215db512cff2862ac8b2c1e0e345de0c",
            "label": "Ruhrort_2770010"
          },
          "offering": {
            "id": "off_c599e9b089385d08aa00b7c9c4c6f3ef",
            "label": "WASSERSTAND_ROHDATEN"
          },
          "procedure": {
            "id": "pro_1f466baf90e7b1fb87d42a68274c13bf",
            "label": "Wasserstand-Ruhrort_2770010"
          }
        }
      },
      "label": "Ruhrort_2770010"
    },
    "geometry": {
        "coordinates": [
            6.7279422870428505,
            51.455354763381585
        ],
        "type": "Point"
    },
    "type": "Feature"
  }
]</pre>
              <button data-toggle="collapse" data-parent="#stations-examples" data-target="#stations-examples-expanded" class="btn btn-primary">Show/Hide Response</button>
              <div class="n52-callout n52-callout-info">
                Please refer to the <a href="http://geojson.org">GeoJSON specification</a> if you need more detailed information about the geometry types used.
              </div>
            </div>
            <div>
                <h4>Item</h4>
                <pre>GET /api/v1/stations/sta_a1164b01586abf442ad312211d9f18e/ HTTP/1.1
  Host: sensorweb.demo.52north.org
  Accept: application/json</pre>
                <pre id="stations-examples-item" class="collapse">HTTP/1.1 200 OK
  Content-Type: application/json;charset=UTF-8

  {
    "properties": {
      "id": "sta_a1164b01586abf442ad312211d9f18e",
      "timeseries": {
        "ts_e6a9b2f10f2ff6a47da6ffeab747dc5a": {
          "phenomenon": {
            "id": "phe_4af57a13bb7fb9af7618fc6d74af3523",
            "label": "Abfluss"
          },
          "service": {
            "id": "srv_1a5bde0a6d702f193f7be463402ec12f",
            "label": "PEGELONLINE SOS"
          },
          "feature": {
            "id": "foi_c0ac9e8284131ef14094dcc3795925ae",
            "label": "Hattingen_2769510000100"
          },
          "offering": {
            "id": "off_5ba539e42edf995faaf923414760b9a5",
            "label": "ABFLUSS_ROHDATEN"
          },
          "procedure": {
            "id": "pro_89fc01ce9c37de1b787a3f75082a0632",
            "label": "Abfluss-Hattingen_2769510000100"
          }
        }
      },
      "label": "Hattingen_2769510000100"
    },
    "geometry": {
      "coordinates": [
        7.161047770931211,
        51.39975938475634
      ],
      "type": "Point"
    },
    "type": "Feature"
  }</pre>
              <button data-toggle="collapse" data-parent="#stations-examples" data-target="#stations-examples-item" class="btn btn-primary">Show/Hide Response</button>
            </div>

          </div>
        </div>
			</section>

			<!-- Timeseries
			================================================== -->
			<section id="timeseries">
				<div class="page-header">
					<h1>Timeseries</h1>
					<p class="pull-right up-link">
						<a href="#"><i class="icon-chevron-up"></i> top</a>
					</p>
				</div>
				<div>
          <div id="timeseries-urls"> <!-- URLs -->
						<h3>URLs</h3>
						<p>API calls are triggered by using the following URLs.</p>
						<table class="table">
							<tr>
								<th>Method</th>
								<th>Path</th>
                <th style="width: 21%">Content-Type</th>
								<th>Description</th>
							</tr>

              <tr>
                <td><code>GET</code></td>
                <td><code>/api/v1/timeseries</code></td>
                <td><code>application/json</code></td>
                <td>Lists all timeseries available.</td>
              </tr>
              <tr>
                <td><code>GET</code></td>
                <td><code>/api/v1/timeseries/{id}</code></td>
                <td><code>application/json</code></td>
                <td><p>Lists the metadata of timeseries with id <code>{id}</code>.</p></td>
              </tr>
              <tr>
                <td><code>GET</code></td>
                <td><code>/api/v1/timeseries/{id}/extras</code></td>
                <td><code>application/json</code></td>
                <td>Lists extra metadata which may vary from instance to instance. The available metadata fields 
                    are listed in the <code>extras</code> metadata section of a timeseries. You can query just
                    the ones you are interested in by appending the <code>fields</code> query parameter and passing
                    a comma-separated value list to it. For example 
                    http://localhost:8080/sensorwebclient-webapp/api/v1/timeseries/{id}/extras?fields=license
                </td>
              </tr>
              <tr>
                <td><code>GET</code></td>
                <td><code>/api/v1/timeseries/{id}/{interval}</code></td>
                <td><code>image/png</code></td>
                <td>Returns an image of timeseries with id <code>{id}</code> for the given <code>{interval}</code>. Allowed interval values are
                <ul>
                  <li><code>lastDay</code></li>
                  <li><code>lastWeek</code></li>
                  <li><code>lastMonth</code></li>
                </ul>
                <p>Timeseries can be pre-rendered by a regular task. If pre-rendering is enabled for a given timeseries depends on the API provider as it is a configuration issue.</p>
                <p>If a timeseries has no pre-rendered chart a <code>404</code> (Resource not found) error is returned. In particular cases this is also true when the chart is currently being re-rendered.</p>
                </td>
              </tr>


						</table>
					</div>

          <div id="timeseries-data-urls"> <!-- DATA URLs -->
						<h3>Request Data</h3>
						<p>Timeseries data is actually not modelled as a resource itself. Data requests can be  triggered by appending the <code>getData</code> verb.</p>
						<table class="table">
							<tr>
								<th>Method</th>
								<th>Path</th>
                <th style="width: 21%">Content-Type</th>
								<th>Description</th>
							</tr>

              <tr>
                <td><code>GET</code></td>
                <td><code>/api/v1/timeseries/{id}/getData</code></td>
                <td><code>application/json</code></td>
                <td><p>Lists the raw data of timeseries with id <code>{id}</code>.</p></td>
              </tr>
              <tr>
                <td><code>GET</code></td>
                <td><code>/api/v1/timeseries/{id}/getData</code></td>
                <td><code>image/png</code></td>
                <td><p>Draws a graph of the data of timeseries with id <code>{id}</code>.</p></td>
              </tr>
              <tr>
                <td><code>POST</code></td>
                <td><code>/api/v1/timeseries/getData</code></td>
                <td><code>application/json</code></td>
                <td><p>Request the metadata for multiple timeseries. The requested timeseries ids have to be contained in the POST request.</p>

                <p>Have a look at <a href="#timeseries-example-post-data">the POST request example</a> or check out <a href="schemas/v1/getDataForMultipleTimeseries.json">the request schema</a> how a POST request shall look like to get raw data for multiple timeseries.</p></td>
              </tr>
              <tr>
                <td><code>POST</code></td>
                <td><code>/api/v1/timeseries/getData</code></td>
                <td>
                  <code>image/png</code><br/>
                  <code>application/pdf</code><br/>
                </td>
                <td><p>Exports the given stack of timeseries to the given output format. The requested timeseries ids have to be contained in the POST request.</p>

                <p>
                Each timeseries can be styled (chart type, color, widths, etc) by passing style options. Have a look at <a href="#timeseries-example-post-image">the POST request example</a> or check out <a href="schemas/v1/renderChartForMultipleTimeseries.json">the request schema</a> how a POST request shall look like to render multiple timeseries.
                </p>
                </td>
              </tr>

						</table>
					</div>

					<div id="timeseries-query-parameters"> <!-- Query Parameters -->
						<h3>Query Parameters</h3>
						<p>Timeseries data can be queried with the following filter parameters. </p>

						<table class="table" style="table-layout:fixed">
							<tr>
								<th style="width:15%">Parameter</th>
								<th>Example</th>
								<th>Description</th>
							</tr>

              <tr>
                <td>
                  <code>expanded</code>
                </td>
                <td>
                  <pre>expanded=true</pre>
                </td>
                <td>
                  <p>The <code>expanded</code> parameter works for collection data and also when requesting raw timeseries data.</p>
                  <p>Timeseries may provide additional data which changes over time (and therefore is not core metadata anymore). Best example are reference values which can be used to provide better interpretation to actual data values.</p>
                </td>
              </tr>
              <tr>
                <td>
                  <code>timespan</code>
                </td>
                <td>
                  <pre>timespan=PT12H/2013-08-06</pre>
                </td>
                <td>
                  An <a href="http://en.wikipedia.org/wiki/ISO_8601#Time_intervals">ISO8601 formatted period</a>. Only backslash formatted values are supported.
                </td>
              </tr>
              <tr>
                <td>
                  <code>width</code>
                </td>
                <td>
                  <pre>width=200</pre>
                </td>
                <td>
                  If <code>image/png</code> is requested, <code>width</code> determines the width in pixels.
                </td>
              </tr>
              <tr>
                <td>
                  <code>height</code>
                </td>
                <td>
                  <pre>height=200</pre>
                </td>
                <td>
                  If <code>image/png</code> is requested, <code>height</code> determines the width in pixels.
                </td>
              </tr>
              <tr>
                <td>
                  <code>style</code>
                </td>
                <td>
                  <pre>style={
  "chartType": "line",
  "properties": {
    "color": "#2f2f2f",
    "lineType": "solid",
    "width": 2
  }
}</pre>
                </td>
                <td><p>Style options how the timeseries shall be rendered if an <code>image/png</code> shall be the output.</p>

                <p>A more detailed explanation about styling can be found under the <a href="#styles">styles section</a>.</p>
                </td>
              </tr>
              <tr>
                <td>
                  <code>legend</code>
                </td>
                <td>
                  <pre>legend=true</pre>
                </td>
                <td>
                  Indicates if a legend shall be rendered directly on the image output (if <code>image/png</code> shall be the output).
                </td>
              </tr>
              <tr>
                <td>
                  <code>generalize</code>
                </td>
                <td>
                  <pre>generalize=true</pre>
                </td>
                <td>
                    Indicates that timeseries data shall be generalized. See <a href="#generalization">genralization section</a> for details.
                </td>
              </tr>
              <tr>
                <td>
                  <code>force_latest_values</code>
                </td>
                <td>
                  <pre>force_latest_values=true</pre>
                </td>
                <td>
                  <p>The <code>force_latest_values</code> parameter can be used to force last value requests on a collection of timeseries.</p>
                  <div class="n52-callout n52-callout-info">
                    <p>Please note that this enforcement (in combination with <code>expanded=true</code>) may result is long response times as the last value has to be requested for each timeseries of the requested collection. Use this enforcement only on filtered queries.</p>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <code>format</code>
                </td>
                <td>
                  <pre>format=highcharts</pre>
                </td>
                <td>Controls the output format of raw timeseries data. This avoids converting between different data formats on client side which uses a 3rd party chart rendering API. Currently, supported formats:
                  <ul>
                    <li><code>tvp</code>: Time value pairs (the default)</li>
                    <li><code>highcharts</code>: <a href="http://www.highcharts.com/">Highcharts</a> series data format.</li>
                  </ul>
                  Refer to the <a href="#formats">Format section</a> for detailed information how the formats will look like.
                </td>
              </tr>
              <tr>
                <td>
                  <code>base64</code>
                </td>
                <td>
                  <pre>base64=true</pre>
                </td>
                <td><p>Indicates binary images shall be encoded to a base64 string on server side. This makes it easily possible to display images from JavaScript (you would need a byte parsing library otherwise).</p>
                <p>Here is an example how to embed encoded base64 string:</p><pre>&lt;img src='data:image/png;base64," + encodedString + "' /></pre>
                </td>
              </tr>

              <tr>
                <td>
                  <code>service</code><br/>
                </td>
                <td>
                  <pre>service=srv_sdlfj2</pre>
                </td>
                <td>All resources where the given <a href="#parameter-services">service</a> id does match.</td>
              </tr>
              <tr>
                <td>
                  <code>category</code><br/>
                </td>
                <td>
                  <pre>category=cat_sadf2d</pre>
                </td>
                <td>All resources where the given <a href="#parameter-categories">category</a> id does match.</td>
              </tr>
              <tr>
                <td>
                  <code>phenomenon</code>
                </td>
                <td>
                  <pre>phenomenon=phe_sdjf210</pre>
                </td>
                <td>All resources where the given <a href="#parameter-phenomena">phenomenon</a> id does match.</td>
              </tr>
						</table>

            <div class="n52-callout n52-callout-info">For this resource <a href="#general-common-query-parameters">further common query parameters</a> can be used.</div>

						<div class="n52-callout n52-callout-info">Note that for <code>GET</code> requests the options have to be <b>URL-encoded</b> appropriately!</div>
					</div>

					<div id="timeseries-examples"> <!-- Examples -->
						<h3>Examples</h3>
            <div> <!-- Simple Collection -->
              <h4>Simple Collection</h4>
              <pre>GET /api/v1/timeseries HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre id="timeseries-examples-simple" class="collapse">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "id": "ts_69a0a0df67ef791cd655f0a8bab9b62c",
    "label": "Snow_patchiness@1550",
    "station": {
      "properties": {
        "id": "sta_22bbc8df377555caf3a4d48fc56ce09c",
        "label": "1550"
      },
      "geometry": {
        "coordinates": [
          23.233991038000056,
          63.88340191100008
        ],
        "type": "Point"
      },
      "type": "Feature"
    }
  },
  {
    "id": "ts_3a4086d952d52f5aa37cda266487ceb2",
    "label": "Snow_water_equivalent@1501",
    "station": {
      "properties": {
        "id": "sta_209f40d2931eabd2c31fd856ce40e1e1",
        "label": "1501"
      },
      "geometry": {
        "coordinates": [
          31.06271994100007,
          63.06610459800004
        ],
        "type": "Point"
      },
      "type": "Feature"
    }
  }
]</pre>
              <button data-toggle="collapse" data-parent="#timeseries-simple" data-target="#timeseries-examples-simple" class="btn btn-primary">Show/Hide Response</button>
              <div class="n52-callout n52-callout-info">
                As <a href="#general-common-query-parameters">noted above</a> <code>expanded=false</code> is the default. Setting the parameter to <code>false</code> explicitly will have the same effect.
              </div>
						</div>

            <div> <!-- Expanded Collection -->
              <h4>Expanded Collection</h4>
              <pre>GET /api/v1/timeseries/?expanded=true HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre id="timeseries-examples-expanded" class="collapse">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "id": "ts_5fe646c5a8f99bf4e267bba9c2b9df2c",
    "label": "Snow_patchiness@1499",
    "station": {
      "properties": {
        "id": "sta_d950ac5e991045386221942560a04678",
        "label": "1499"
      },
      "geometry": {
        "coordinates": [
          30.426456999000038,
          62.79975521500006
        ],
        "type": "Point"
      },
      "type": "Feature"
    },
    "parameters": {
      "service": {
        "id": "srv_1121a9ada17a3e77dffcebdac5b31d50",
        "serviceUrl": "http://paikkatieto.ymparisto.fi/arcgis/rest/services/InSitu/SYKE_SnowCoursesInSitu/MapServer/exts/SOSExtension/"
      },
      "offering": {
        "id": "off_1e5d8b26d6aeca8edda62827f005de14",
        "label": "Patchiness -Offering"
      },
      "feature": {
        "id": "foi_e88d7dbbfba57d60aecdd3e09340ced1",
        "label": "1499"
      },
      "procedure": {
        "id": "pro_d24427415643fd7ac6d3d5bc5c9cf6ea",
        "label": "2"
      },
      "phenomenon": {
        "id": "phe_6639a8b1c9240706a20257573fdf108",
        "label": "Snow_patchiness"
      },
      "category": {
        "id": "cat_6639a8b1c9240706a20257573fdf108",
        "label": "Snow_patchiness"
      }
    }
  },
  {
    "id": "ts_2c3687d6ec86c85e36943a49c6a09ca7",
    "label": "Snow_depth@1537",
    "station": {
      "properties": {
        "id": "sta_e340eb0c274f5f6e1e33fcbbae769d35",
        "label": "1537"
      },
      "geometry": {
        "coordinates": [
          24.593801936000034,
          61.10789034100003
        ],
        "type": "Point"
      },
      "type": "Feature"
    },
    "parameters": {
      "service": {
        "id": "srv_1121a9ada17a3e77dffcebdac5b31d50",
        "serviceUrl": "http://paikkatieto.ymparisto.fi/arcgis/rest/services/InSitu/SYKE_SnowCoursesInSitu/MapServer/exts/SOSExtension/"
      },
      "offering": {
        "id": "off_a19e342c3787f923452d58d70bd46b0e",
        "label": "Snow Depth -Offering"
      },
      "feature": {
        "id": "foi_8391ce65de5246a4b35401c55ae6cd53",
        "label": "1537"
      },
      "procedure": {
        "id": "pro_9847ec590cc768cfe311ab65b7ad7873",
        "label": "1"
      },
      "phenomenon": {
        "id": "phe_c787cc873ab395055d0d4841cb43b0f0",
        "label": "Snow_depth"
      },
      "category": {
        "id": "cat_c787cc873ab395055d0d4841cb43b0f0",
        "label": "Snow_depth"
      }
    }
  }
]</pre>
              <button data-toggle="collapse" data-parent="#timeseries-examples" data-target="#timeseries-examples-expanded" class="btn btn-primary">Show/Hide Response</button>
            </div>

            <div> <!-- Simple Item -->
              <h4>Simple Item</h4>
              <pre>GET /api/v1/timeseries/ts_c8ed5ddbb89c19b2e385de23eecbde98 HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre id="timeseries-examples-item" class="collapse">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "id": "ts_c8ed5ddbb89c19b2e385de23eecbde98",
  "label": "Wasserstand@List_Auf_Sylt_9570070",
  "uom": "cm",
  "station": {
    "properties": {
      "id": "sta_a4bff7499d440d9bb67ad73e048c5a47",
      "label": "List_Auf_Sylt_9570070"
    },
    "geometry": {
      "coordinates": [
        8.440430928792344,
        55.016536566762
      ],
      "type": "Point"
    },
    "type": "Feature"
  },
  "lastValue": {
    "timestamp": 1379635200000,
    "value": 532.7
  },
  "parameters": {
    "service": {
      "id": "srv_1a5bde0a6d702f193f7be463402ec12f",
      "serviceUrl": "http://pegelonline.wsv.de/webservices/gis/gdi-sos"
    },
    "offering": {
      "id": "off_c599e9b089385d08aa00b7c9c4c6f3ef",
      "label": "WASSERSTAND_ROHDATEN"
    },
    "feature": {
      "id": "foi_25e09ee3155ab0fbf3e4684ad2edffbf",
      "label": "List_Auf_Sylt_9570070"
    },
    "procedure": {
      "id": "pro_e878d48e49ebc2a156e2810470bae9a2",
      "label": "Wasserstand-List_Auf_Sylt_9570070"
    },
    "phenomenon": {
      "id": "phe_f60bcfb1f6ac3d37210b5d757a1bf48e",
      "label": "Wasserstand"
    },
    "category": {
      "id": "cat_f60bcfb1f6ac3d37210b5d757a1bf48e",
      "label": "Wasserstand"
    }
  },
  "refValues": [
    {
      "referenceValueId": "ref_2adf9285e96f72c441a6344e151eb630",
      "label": "Pegelnullpunkt &uuml;ber NN",
      "lastValue": {
        "timestamp": 1379667208477,
        "value": -5
      }
    },
    {
      "referenceValueId": "ref_c99577da99e17df8b93731886e35578a",
      "label": "Niedrigstes Tideniedrigwasser",
      "lastValue": {
        "timestamp": 1379667208477,
        "value": 242
      }
    }
  ]
}</pre>
              <button data-toggle="collapse" data-parent="#timeseries-examples" data-target="#timeseries-examples-item" class="btn btn-primary">Show/Hide Response</button>
						</div>

            <div> <!-- Raw Data of a single timeseries -->
              <h4>Raw Data of a single timeseries</h4>

              <pre>GET /api/v1/timeseries/ts_c8ed5ddbb89c19b2e385de23eecbde98/getData?expanded=true HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
                <pre id="timeseries-examples-single-raw" class="collapse">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "ts_c8ed5ddbb89c19b2e385de23eecbde98": {
    "values": [
      {
        "timestamp": 1376563000000,
        "value": 442.8
      },
      {
        "timestamp": 1376568060000,
        "value": 441.8
      },
    ],
    "extra": {
      "referenceValues": {
        "ref_68192ce0f01b2b47821bac2547f9f9c0": {
          "values": [
            {
              "timestamp": 1376563000000,
              "value": 408
            },
            {
              "timestamp": 1376568060000,
              "value": 408
            }
          ]
        }
      }
    }
  }
}</pre>
              <button data-toggle="collapse" data-parent="#timeseries-examples" data-target="#timeseries-examples-single-raw" class="btn btn-primary">Show/Hide Response</button>
              <div class="n52-callout n52-callout-info">
                <p>Timeseries data can get huge quickly depending on how often new values are measured and how long data is stored in the corresponding data backend! Naive clients can bother data providers when trying to request huge datasets by accident. Therefore data requests may be limited to a maximum timespan (per configuration).</p>
                <p>However, most probably consuming huge datasets may also not be of client's interest. Have a look <a href="#general-paging">at the paging documentation</a> how to get data in smaller chunks.</p>
              </div>
						</div>

            <div id="timeseries-example-post-data"> <!-- Raw Data of multiple timeseries -->
              <h4>Raw Data of multiple timeseries</h4>
              <pre>POST /api/v1/timeseries/getData HTTP/1.1
Host: sensorweb.demo.52north.org
Content-Type: application/json
Accept: application/json

{
  "timespan": "PT6h/2013-08-16TZ",
  "timeseries": [
    "ts_c8ed5ddbb89c19b2e385de23eecbde98",
    "ts_ad3edeff973ab62e39f76c14f95d1e82"
  ]
}
</pre>
                <pre id="timeseries-examples-multiple-raw" class="collapse">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "allTimeseries": {
    "ts_ad3edeff973ab62e39f76c14f95d1e82": {
      "values": []
    },
    "ts_c8ed5ddbb89c19b2e385de23eecbde98": {
      "values": [
        {
          "timestamp": 1376610900000,
          "value": 479
        },
        {
          "timestamp": 1376610960000,
          "value": 478.8
        },
        {
          "timestamp": 1376611020000,
          "value": 478
        },
        {
          "timestamp": 1376611080000,
          "value": 477
        },
        {
          "timestamp": 1376611140000,
          "value": 476.8
        },
        {
          "timestamp": 1376611200000,
          "value": 476
        }
      ]
    }
  }
}</pre>
                <button data-toggle="collapse" data-parent="#timeseries-examples" data-target="#timeseries-examples-multiple-raw" class="btn btn-primary">Show/Hide Response</button>
              </div>

            <div id="timeseries-example-post-image"> <!-- Image Data of multiple timeseries -->
              <h4>Image Data of combined timeseries</h4>

              <div class="col-lg-6">
                <pre>POST /api/v1/timeseries/getData HTTP/1.1
Host: sensorweb.demo.52north.org
Content-Type: application/json
Accept: image/png

{
  "legend": true,
  "timespan": "P0Y0M3D/2013-01-31TZ",
  "width": 400,
  "height": 300,
  "language": "de",
  "grid": true,
  "styleOptions": {
    "ts_eafa3af4e61db76b367746980d149b7e": {
      "chartType": "line",
      "properties": {
        "color": "#0000FF",
        "lineType": "solid",
        "width": 1
      }
    },
    "ts_92385cd6fb670e886cab8e542185e847": {
      "chartType": "bar",
      "properties": {
        "color": "#2f2f2f",
        "interval": "byHour",
        "width": 0.7
      }
    }
  }
}</pre>
            </div>
            <div class="col-lg-6 pull-right">
              <img alt="combinedCharts" src="img/combined-charts.png" title="Example of combined charts."/>
            </div>

            <div class="n52-callout n52-callout-info" style="clear:both"><p>If you are interested in the PNG output you can either parse it from your favorite programming language. For a quick review you can use Curl from command line (adapt parameters as needed, e.g. if you want a PDF report instead): </p>
            <pre>
curl -X POST -d 'PASTE IN HERE YOUR POST REQUEST' \
-H "content-type:application/json" -H "accept:image/png" \
http://localhost:8080/sensorwebclient-webapp/api/v1/timeseries/getData > img.png
</pre>
            </div>
					</div>
          </div>
        </div>
			</section>

			<!-- Styles
			================================================== -->
			<section id="styles">
				<div class="page-header">
					<h1>Diagram Styles</h1>
					<p class="pull-right up-link">
						<a href="#"><i class="icon-chevron-up"></i> top</a>
					</p>
				</div>
				<div>
					<p>The following diagram types are available and can be set via <code>style</code> options:
					</p>
						<ul>
							<li>line charts</li>
							<li>bar charts</li>
						</ul>
          <p>Styles can be used whereever a chart is rendered. It does not matter if you request an image or a report (which embeds the timeseries chart).</p>
					<div>
						<h3 id="styles-line-chart">Line Charts</h3>
						<p>The following style properties can be set.</p>
						<table class="table">
							<tr>
								<th>Property</th>
                <th>Description</th>
							</tr>
              <tr>
                <td><code>lineType</code></td>
                <td><p>The line style. Possible values are <code>solid</code>, <code>dotted</code> or <code>dashed</code></p></td>
              </tr>
              <tr>
                <td><code>width</code></td>
                <td>The thickness of a line as integer, dash gap, point size (dependend on the chart type to be rendered).</td>
              </tr>
              <tr>
                <td><code>color</code></td>
                <td>A 6-digit hex color value, e.g. <code>#5f5f5f</code>.</td>
              </tr>

						</table>

            <div class="row">
              <h4>Example</h4>
              <div class="col-lg-5">
                <img alt="lineChart" src="img/lineChart.png" title="Example for a line chart style."/>
              </div>
              <div class="col-lg-7 pull-right">
                <pre>{
  "chartType": "line",
  "properties": {
    "type": "dashed",
    "width": 4,
    "color": "#0000ff"
  }
}</pre>
              </div>
            </div>
					</div>

					<div id="styles-bar-chart">
						<h3>Bar Charts</h3>

            <table class="table">
							<tr>
								<th>Property</th>
                <th>Description</th>
							</tr>
              <tr>
                <td><code>interval</code></td>
                <td>The time period a bar shall represent. Possible values are <code>byDay</code>, <code>byWeek</code>, <code>byMonth</code>.</td>
              </tr>
              <tr>
                <td><code>width</code></td>
                <td>Value between 0 and 1, which defines the bar width in percent (<code>width=1</code> means maximum width, i.e. bar next to bar).</td>
              </tr>
              <tr>
                <td><code>color</code></td>
                <td>A 6-digit hex color value, e.g. <code>#5f5f5f</code>.</td>
              </tr>
						</table>

            <div class="row">
              <h4>Example</h4>
              <div class="col-lg-5">
                <img alt="barChart" src="img/barChart.png" title="Example for a bar chart style."/>
              </div>
              <div class="col-lg-7 pull-right">
                <pre>{
  "chartType": "bar",
  "properties": {
    "interval": "byDay",
    "width": 0.8,
    "color": "#0000ff"
  }
}</pre>
              </div>
            </div>
					</div>
				</div>
			</section>

      <!-- Formats
			================================================== -->
			<section id="formats">
				<div class="page-header">
					<h1>Data Formats</h1>
					<p class="pull-right up-link">
						<a href="#"><i class="icon-chevron-up"></i> top</a>
					</p>
				</div>
				<div>
					<p>Raw data can be requested in a specific format. This can be useful if you work with a specific chart API and want to avoid to convert data outout from one format to another. Possible formats are:</p>
						<ul>
							<li><code>tvp</code> (the default)</li>
							<li><code>highchart</code></li>
						</ul>
            <p>To retrieve extra reference values (if available for that timeseries) valid for the requested timespan just add <code>expand=true</code>.</p>

          <div class="n52-callout n52-callout-info">Serving arbitrary formats is limited. Most probably you have to combine timeseries metadata and the actual data differently within the used API. Please refer to the actual data output so that it can be used as intended by the 3rd party API.</div>

          <div>
						<h2 id="formats-default">Default Format</h2>
            The format returns timeseries data as time-value tuples.
            <div>
              <h3>Example (Single Timeseries)</h3>
                <pre>{
  "values": [
    {
      "timestamp": 1376524800000,
      "value": 433.0
    },
    {
      "timestamp": 1376524860000,
      "value": 432.4
    },
    {
      "timestamp": 1376524920000,
      "value": 432.0
    },
    {
      "timestamp": 1376524980000,
      "value": 431.1
    }
  ]
}</pre>
              </div>
              <h3>Example (Multiple Timeseries)</h3>
                <pre>{
  "ts_ad3edeff973ab62e39f76c14f95d1e82": {
    "values": []
  },
  "ts_c8ed5ddbb89c19b2e385de23eecbde98": {
    "values": [
      {
        "timestamp": 1376589600000,
        "value": 546
      },
      {
        "timestamp": 1376589660000,
        "value": 546.6
      },
      {
        "timestamp": 1376589720000,
        "value": 547
      }
    ]
  }
}</pre>
            <div class="n52-callout n52-callout-info">Please note that when adding <code>expanded=true</code>, reference values will be added as a timeseries on their own. You can track reference values with the corresponding identifiers available from <a href="#timeseries-examples-item">the timeseries metadata</a>.</div>
          </div>

					<div>
						<h2 id="formats-highchart">Highchart Format</h2>
            The format returns timeseries data in <a href="http://api.highcharts.com/highcharts#series">Highcharts series format</a>. To add metadata or a readable series name you will have to replace the timeseriesId with a readable label taken from the <a href="#timeseries">Timeseries metadata</a>.
            <div>
              <h3>Example (Single Timeseries)</h3>
                <pre>{
  "name": "ts_c8ed5ddbb89c19b2e385de23eecbde98",
  "data": [
    [
      1376524800000,
      433.3
    ],
    [
      1376524860000,
      432.4
    ],
    [
      1376524920000,
      432.1
    ]
  ]
}</pre>
              </div>
              <h3>Example (Multiple Timeseries)</h3>
                <pre>[
  {
    "name": "ts_ad3edeff973ab62e39f76c14f95d1e82",
    "data": []
  },
  {
    "name": "ts_c8ed5ddbb89c19b2e385de23eecbde98",
    "data": [
      [
        1376589600000,
        546
      ],
      [
        1376589660000,
        546.6
      ],
      [
        1376589720000,
        547
      ],
      [
        1376589780000,
        548
      ]
    ]
  }
]</pre>
          </div>
        </div>
			</section>


      <!-- Gernalization
			================================================== -->
			<section id="generalization">
				<div class="page-header">
					<h1>Generalization</h1>
					<p class="pull-right up-link">
						<a href="#"><i class="icon-chevron-up"></i> top</a>
					</p>
				</div>
				<div>
                    <p>Depending on sampling resolution and timespan timeseries data can be huge. Generalizing data
                        can make sense in more than just a low bandwidth use case (e.g. smoothing the curve).</p>

                    <p>The API supports two generalization algorithms which can be enabled by <code>generalize=true</code>.
                        Default generalization behaviour is set to <code>false</code> (may be configurable in future).
                        More algorithms can be added easily.</p>

                    <h2 id="generalization-dp">Douglas-Peucker Downsampling</h2>
                    <ul>
                        <li>Downsamples timeseries values by using a threshold value (<a href="http://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm">Details</a>)</li>
                        <li>Parameters
                            <ul>
                                <li><code>generalize=true</code></li>
                                <li><code>generalizing_algorithm=dp</code></li>
                                <li><code>tolerance_value=&lt;double-value&gt;</code> (default is <code>0.1</code>)</li>
                            </ul>
                        </li>
                    </ul>

                    <h2 id="generalization-lttb">Largest-Triangle-Three Bucket Downsampling</h2>
                    <ul>
                        <li>Downsamples to a fix amount of output values (<a href="http://skemman.is/stream/get/1946/15343/37285/3/SS_MSthesis.pdf">Details</a>)</li>
                        <li>Parameters
                            <ul>
                                <li><code>generalize=true</code></li>
                                <li><code>generalizing_algorithm=lttb</code></li>
                                <li><code>threshold=&lt;int-value&gt;</code> (default is <code>200</code>)</li>
                            </ul>
                        </li>
                    </ul>

<!--
                    <dl class="n52-description-list">
                        <dt id="generalization-dp">Douglas-Peucker Downsampling</dt>
                        <dd>Details on generalization strategy can be found
                            <a href="http://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm">on Wikipedia</a>.
                            Enable it by adding <code>generalize=true&generalizing_algorithm=DP</code>. Tolerance threshold can be
                            defined by parameter <code>TOLERANCE_VALUE</code> which is set to <code>0.1</code> by default.
                        </dd>
                        <dt id="generalization-lttb">Largest-Triangle-Three Bucket Downsampling</dt>
                        <dd><a href="http://skemman.is/stream/get/1946/15343/37285/3/SS_MSthesis.pdf">Diving into details</a>
                            Enabled by adding <code>generalize=true&generalizing_algorithm=LTTB</code>.</dd>
                    </dl>
-->
                </div>


			</section>




			<!-- Parameters
			================================================== -->
			<section id="parameters">
				<div class="page-header">
					<h1>Parameters</h1>
					<p class="pull-right up-link">
						<a href="#"><i class="icon-chevron-up"></i> top</a>
					</p>
				</div>

				<div id="parameter-services">
					<h2>Services</h2> <!-- Services -->
          <div> <!-- URLs -->
            <h3>URLs</h3>
            <p>API calls are triggered by using the following URLs.</p>
            <table class="table">
              <tr>
                <th>Method</th>
                <th>Path</th>
                <th>Content-Type</th>
                <th>Description</th>
              </tr>

                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/services</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists all services available.</td>
                </tr>
                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/services/{id}</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists the service with id <code>{id}</code>.</td>
                </tr>

            </table>
          </div>

          <div> <!-- Query Parameters -->
            <h3>Query Parameters</h3>
            <div class="n52-callout n52-callout-info">For this resource <a href="#general-common-query-parameters">common query parameters</a> can be used.</div>

          </div>

          <div> <!-- Examples -->
            <h3>Examples</h3>
            <div>
              <h4>Collection</h4>
              <pre>GET /api/v1/services/ HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "id": "srv_823sd",
    "label": "PEGELONLINE"
  },
  {
    "id": "srv_8asdfd",
    "label": "Wupperverband"
  }
]</pre>
            </div>
            <div>
              <h4>Item</h4>
              <pre>GET /api/v1/services/srv_823sd HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "id": "srv_1a5bde0a6d702f193f7be463402ec12f",
  "label": "PEGELONLINE SOS",
  "serviceUrl": "http://pegelonline.wsv.de/webservices/gis/gdi-sos",
  "version": "1.0.0",
  "type": "SOS",
  "supportsFirstLatest": true,
  "quantities": {
    "categories": 10,
    "phenomena": 10,
    "stations": 551,
    "timeseries": 740
  }
}</pre>
              <p>An expanded view gives you a bit more metadata about a service instance. It counts the amount of available resources and gives you information about the serivce's capabilities, e.g. if first and latest value requests are supported.</p>
            </div>
          </div>
        </div>

				<div id="parameter-categories">
					<h2>Categories</h2> <!-- Categories -->
          <div> <!-- URLs -->
            <h3>URLs</h3>
            <p>API calls are triggered by using the following URLs.</p>
            <table class="table">
              <tr>
                <th>Method</th>
                <th>Path</th>
                <th>Content-Type</th>
                <th>Description</th>
              </tr>

                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/categories</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists all measured categories available.</td>
                </tr>
                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/categories/{id}</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists the measured categories with id <code>{id}</code>.</td>
                </tr>

            </table>
          </div>

          <div> <!-- Query Parameters -->
              <h3>Query Parameters</h3>
              <div class="n52-callout n52-callout-info">For this resource <a href="#general-common-query-parameters">common query parameters</a> can be used.</div>
          </div>

          <div> <!-- Examples -->
              <h3>Examples</h3>
              <div>
                <h4>Collection</h4>
                <pre>GET /api/v1/categories HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
                <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "id": "cat_h7234u",
    "label": "Water"
  },
  {
    "id": "cat_eddfnq",
    "label": "Air"
  }
]</pre>
              </div>
              <div>
                <h4>Item</h4>
                <pre>GET /api/v1/categories/cat_eddfnq HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
                <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "id": "cat_eddfnq",
  "label": "Air",
  "service": {
    "id": "../services/srv_823sd",
    "label": "PEGELONLINE"
  }
}</pre>
              </div>
            </div>

        </div>

				<div id="parameter-phenomena">
					<h2>Phenomena</h2> <!-- Phenomena -->
					<div> <!-- URLs -->
						<h3>URLs</h3>
						<p>API calls are triggered by using the following URLs.</p>
						<table class="table">
							<tr>
								<th>Method</th>
								<th>Path</th>
                <th>Conetnet-Type</th>
								<th>Description</th>
							</tr>

								<tr>
									<td><code>GET</code></td>
									<td><code>/api/v1/phenomena</code></td>
                  <td><code>application/json</code></td>
									<td>Lists all measured phenomena available.</td>
								</tr>
								<tr>
									<td><code>GET</code></td>
									<td><code>/api/v1/phenomena/{id}</code></td>
                  <td><code>application/json</code></td>
									<td>Lists the measured phenomenon with id <code>{id}</code>.</td>
								</tr>

						</table>
          </div>

          <div> <!-- Query Parameters -->
            <h3>Query Parameters</h3>
            <div class="n52-callout n52-callout-info">For this resource <a href="#general-common-query-parameters">common query parameters</a> can be used.</div>
          </div>

          <div> <!-- Examples -->
            <h3>Examples</h3>
            <div>
              <h4>Collection</h4>
              <pre>GET /api/v1/phenomena HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "id": "phe_adsf221",
    "label": "Lufttemperatur"
  },
  {
    "id": "phe_adsf221",
    "label": "Wasserstand"
  }
]</pre>
            </div>
            <div>
              <h4>Item</h4>
              <pre>GET /api/v1/phenomena/phe_adsf221 HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "id": "phe_adsf221",
  "label": "Wasserstand",
  "service": {
    "id": "../services/srv_823sd",
    "label": "PEGELONLINE"
  }
}</pre>
            </div>
          </div>

        </div>

			</section>








      <!-- Unstable/Legacy
			================================================== -->
			<section id="nonpublic">
				<div class="page-header">
					<h1>Unstable/Legacy</h1>
					<p class="pull-right up-link">
						<a href="#"><i class="icon-chevron-up"></i> top</a>
					</p>
				</div>

        <div class="n52-callout n52-callout-info">
          This section describe non public functionlity which may be either unstable or legacy to be kept for backward compatibility.
        </div>


				<div id="nonpublic-offerings">
					<h2>Offerings</h2> <!-- Offerings -->
          <div> <!-- URLs -->
            <h3>URLs</h3>
            <p>API calls are triggered by using the following URLs.</p>
            <table class="table">
              <tr>
                <th>Method</th>
                <th>Path</th>
                <th>Content-Type</th>
                <th>Description</th>
              </tr>

                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/offerings</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists all offerings available.</td>
                </tr>
                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/offerings/{id}</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists the offering with id <code>{id}</code>.</td>
                </tr>

            </table>
          </div>

          <div> <!-- Query Parameters -->
              <h3>Query Parameters</h3>

              <p>Except the <a href="#resource-collections"><code>Resources</code> collection</a> all other collections can be queried/filtered by using the following query parameters. Each parameter is optional and can only contain one value. Multiple parameters are combined to an <code>AND</code> query. A resource may specify further query parameters to control/filter output. Special query parameters are described in each section.</p>
              <table class="table">
                <tr>
                  <th>Parameter</th>
                  <th style="width:25%">Example</th>
                  <th>Description</th>
                </tr>
                <tr>
                  <td>
                    <code>feature</code><br/>
                  </td>
                  <td>
                    <pre>feature=foi_adf092e</pre>
                  </td>
                  <td>All resources where the given <a href="#parameter-features">feature</a> id does match.</td>
                </tr>
                <tr>
                  <td>
                    <code>procedure</code><br/>
                  </td>
                  <td>
                    <pre>procedure=pro_asd23</pre>
                  </td>
                  <td>All resources where the given <a href="#parameter-procedures">procedure</a> id does match.</td>
                </tr>
              </table>

              <div class="n52-callout n52-callout-info">For this resource <a href="#general-common-query-parameters">common query parameters</a> can be used.</div>

              <div class="n52-callout n52-callout-info">Note that for <code>GET</code> requests the options have to be <b>URL-encoded</b> appropriately!</div>
          </div>

          <div> <!-- Examples -->
              <h3>Examples</h3>
              <div>
                <h4>Collection</h4>
                <pre>GET /api/v1/offerings HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
                <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "id": "off_h7234u",
    "label": "ABFLUSS_ROHDATEN"
  },
  {
    "id": "off_eddfnq",
    "label": "WINDGESCHWINDIGKEIT"
  }
]</pre>
              </div>
              <div>
                <h4>Item</h4>
                <pre>GET /api/v1/offerings/off_h7234u HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
                <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "id": "off_h7234u",
  "label": "ABFLUSS_ROHDATEN"
  "service": "../services/srv_823sd"
}</pre>
              </div>
            </div>

        </div>

				<div id="nonpublic-features">
					<h2>Features</h2> <!-- Features -->
          <div> <!-- URLs -->
            <h3>URLs</h3>
            <p>API calls are triggered by using the following URLs.</p>
            <table class="table">
              <tr>
                <th>Method</th>
                <th>Path</th>
                <th>Content-Type</th>
                <th>Description</th>
              </tr>

                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/features</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists all features available.</td>
                </tr>
                <tr>
                  <td><code>GET</code></td>
                  <td><code>/api/v1/features/{id}</code></td>
                  <td><code>application/json</code></td>
                  <td>Lists the feature with id <code>{id}</code>.</td>
                </tr>

            </table>
          </div>

          <div> <!-- Query Parameters -->
              <h3>Query Parameters</h3>
              <p>Except the <a href="#resource-collections"><code>Resources</code> collection</a> all other collections can be queried/filtered by using the following query parameters. Each parameter is optional and can only contain one value. Multiple parameters are combined to an <code>AND</code> query. A resource may specify further query parameters to control/filter output. Special query parameters are described in each section.</p>
              <table class="table">
                <tr>
                  <th>Parameter</th>
                  <th style="width:25%">Example</th>
                  <th>Description</th>
                </tr>
                <tr>
                  <td>
                    <code>offering</code><br/>
                  </td>
                  <td>
                    <pre>offering=off_fdoi23</pre>
                  </td>
                  <td>All resources where the given <a href="#parameter-offerings">offering</a> id does match.</td>
                </tr>
                <tr>
                  <td>
                    <code>procedure</code><br/>
                  </td>
                  <td>
                    <pre>procedure=pro_asd23</pre>
                  </td>
                  <td>All resources where the given <a href="#parameter-procedures">procedure</a> id does match.</td>
                </tr>
              </table>

              <div class="n52-callout n52-callout-info">For this resource <a href="#general-common-query-parameters">common query parameters</a> can be used.</div>

              <div class="n52-callout n52-callout-info">Note that for <code>GET</code> requests the options have to be <b>URL-encoded</b> appropriately!</div>
          </div>

          <div> <!-- Examples -->
            <h3>Examples</h3>
            <div>
              <h4>Collection</h4>
              <pre>GET /api/v1/features HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "id": "foi_h7234u",
    "label": "Bramsche"
  },
  {
    "id": "foi_adsf221",
    "label": "Suelfeld"
  }
]</pre>
            </div>
            <div>
              <h4>Item</h4>
              <pre>GET /api/v1/features/foi_h7234u HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
              <pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "id": "foi_h7234u",
  "label": "Bramsche",
  "service": {
    "id": "../services/srv_823sd",
    "label": "PEGELONLINE"
  }
}</pre>
            </div>
          </div>

        </div>

				<div id="nonpublic-procedures">
					<h2>Procedures</h2>
					<!-- Procedures -->
					<div>
						<!-- URLs -->
						<h3>URLs</h3>
						<p>API calls are triggered by using the following URLs.</p>
						<table class="table">
							<tr>
								<th>Method</th>
								<th>Path</th>
								<th>Content-Type</th>
								<th>Description</th>
							</tr>

							<tr>
								<td><code>GET</code></td>
								<td><code>/api/v1/procedures</code></td>
								<td><code>application/json</code></td>
								<td>Lists all procedures available.</td>
							</tr>
							<tr>
								<td><code>GET</code></td>
								<td><code>/api/v1/procedures/{id}</code></td>
								<td><code>application/json</code></td>
								<td>Lists the procedure with id <code>{id}</code>.
								</td>
							</tr>

						</table>
					</div>

					<div>
						<!-- Query Parameters -->
						<h3>Query Parameters</h3>
						<p>
							Except the <a href="#resource-collections"><code>Resources</code>
								collection</a> all other collections can be queried/filtered by
							using the following query parameters. Each parameter is optional
							and can only contain one value. Multiple parameters are combined
							to an
							<code>AND</code>
							query. A resource may specify further query parameters to
							control/filter output. Special query parameters are described in
							each section.
						</p>
						<table class="table">
							<tr>
								<th>Parameter</th>
								<th style="width: 25%">Example</th>
								<th>Description</th>
							</tr>
							<tr>
								<td><code>offering</code><br /></td>
								<td><pre>offering=off_fdoi23</pre></td>
								<td>All resources where the given <a
									href="#parameter-offerings">offering</a> id does match.
								</td>
							</tr>
							<tr>
								<td><code>feature</code><br /></td>
								<td><pre>feature=foi_adf092e</pre></td>
								<td>All resources where the given <a
									href="#parameter-features">feature</a> id does match.
								</td>
							</tr>
						</table>

						<div class="n52-callout n52-callout-info">
							For this resource <a href="#general-common-query-parameters">common
								query parameters</a> can be used.
						</div>

						<div class="n52-callout n52-callout-info">
							Note that for
							<code>GET</code>
							requests the options have to be <b>URL-encoded</b> appropriately!
						</div>
					</div>

					<div>
						<!-- Examples -->
						<h3>Examples</h3>
						<div>
							<h4>Collection</h4>
							<pre>GET /api/v1/procedures HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
							<pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

[
  {
    "id": "pro_h7234u",
    "label": "Year.Cmd.MHQ"
  },
  {
    "id": "pro_adsf221",
    "label": "Bad Hersfeld 1_Q#TagMittel"
  }
]</pre>
						</div>
						<div>
							<h4>Item</h4>
							<pre>GET /api/v1/procedures/pro_adsf221 HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
							<pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  "id": "pro_h7234u",
  "label": "Wasserstand-Berlin-Ploetzensee_Op_586640",
  "service": {
    "id": "../services/srv_823sd",
    "label": "PEGELONLINE"
  }
}</pre>
						</div>
					</div>
				</div>

<div id="nonpublic-timeseries">
					<h2>Timeseries</h2>
					<!-- Timeseries -->

					<div>
						<!-- Query Parameters -->
						<h3>Query Parameters</h3>
						<p>
							Two new parameter are implemented:
						</p>
						<table class="table">
							<tr>
								<th>Parameter</th>
								<th style="width: 25%">Example</th>
								<th>Description</th>
							</tr>
							<tr>
								<td><code>status_intervals</code><br /></td>
								<td><pre>status_intervals=true</pre></td>
								<td>Information about the current status of a timeseries. A client should receive metadata how the last measured value can be interpreted by means of defined status "scales".
								</td>
							</tr>
							<tr>
								<td><code>rendering_hints</code><br /></td>
								<td><pre>rendering_hints=true</pre></td>
								<td>Responds the timeseries resource with a rendering hing, which describes how the
									timeseries can look like. The styling options are similar to
									the previous descripted <a href="#styles">Styles</a>.
								</td>
							</tr>
						</table>
					</div>

					<div>
						<!-- Examples -->
						<h3>Examples</h3>
						<div>
							<h4>Item</h4>
							<pre>GET api/v1/timeseries/ts_2395d0548435a7ab701f63e2032eaaeb?status_intervals=true HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
							<pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  id: "ts_2395d0548435a7ab701f63e2032eaaeb",
  label: "Lufttemperatur@Barmen_Wupperverband",
  uom: "Grad Celsius",
  station: {
    properties: {
      id: "sta_254b3e34bbefac4119acd69ec76e647f",
      label: "Barmen_Wupperverband"
    },
    geometry: {
      coordinates: [
        7.204441970508681,
        51.266086785330224
      ],
      type: "Point"
    },
    type: "Feature"
  },
  referenceValues: [ ],
  firstValue: {
    timestamp: 1053934200000,
    value: 15.4
  },
  lastValue: {
    timestamp: 1371057750000,
    value: 20.3
  },
  parameters: {
    service: {
      id: "srv_738111ed219f738cfc85be0c8d87843c",
      label: "Wupperverband SOS"
    },
    offering: {
      id: "off_4f4c3d989f9cee86eb36abadaec6fcba",
      label: "Luft"
    },
    feature: {
      id: "foi_d6bea596d0a9b87cf8f7813acd480080",
      label: "Barmen_Wupperverband"
    },
    procedure: {
      id: "pro_3eb970971e126124ad0a731c2ddd4f30",
      label: "Lufttemperatur_Barmen_Wupperverband"
    },
    phenomenon: {
      id: "phe_1965ee24af8af96270002b4a434a4250",
      label: "Lufttemperatur"
    },
    category: {
      id: "cat_b43c06883f4f439241b59f28033830ad",
      label: "Lufttemperatur"
    }
  },
  statusIntervals: [
    {
      lower: "20.0",
      name: "over 20",
      color: "#FF0000"
    },
    {
      lower: "15.0",
      upper: "20.0",
      name: "15 - 20",
      color: "#BF003F"
    },
    {
      lower: "10.0",
      upper: "15.0",
      name: "10 - 15",
      color: "#7F007F"
    },
    {
      lower: "5.0",
      upper: "10.0",
      name: "5 - 10",
      color: "#3F00BF"
    },
    {
      lower: "0.0",
      upper: "5.0",
      name: "0 - 5",
      color: "#0000FF"
    }
  ]
}</pre>
						</div>
						<div>
							<h4>Item</h4>
							<pre>GET api/v1/timeseries/ts_5c305e686027a27b5c09b0e4d7397bdd?rendering_hints=true HTTP/1.1
Host: sensorweb.demo.52north.org
Accept: application/json</pre>
							<pre>HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
  id: "ts_5c305e686027a27b5c09b0e4d7397bdd",
  label: "Niederschlagshoehe@RS-Herrmannsmuehle",
  uom: "mm/h",
  station: {
    properties: {
      id: "sta_a6b8ef2480c7363d440fc299dc8841eb",
      label: "RS-Herrmannsmuehle"
    },
    geometry: {
      coordinates: [
        7.226317896922862,
        51.19657532705112
      ],
      type: "Point"
    },
    type: "Feature"
  },
  referenceValues: [ ],
  firstValue: {
    timestamp: 1149595200000,
    value: 0
  },
  lastValue: {
    timestamp: 1372892400000,
    value: 0
  },
  parameters: {
    service: {
      id: "srv_738111ed219f738cfc85be0c8d87843c",
      label: "Wupperverband SOS"
    },
    offering: {
      id: "off_f1f50366e5af4c86d57628adc67064a6",
      label: "Niederschlag"
    },
    feature: {
      id: "foi_abaac0b717c43a395b547fb9c70029d2",
      label: "RS-Herrmannsmuehle"
    },
    procedure: {
      id: "pro_40aaea656ee27e215eb6b150525875fb",
      label: "Niederschlagshoehe_RS-Herrmannsmuehle__Stundensumme"
    },
    phenomenon: {
      id: "phe_39b6c8bd9f50fc1892b407c9268cf557",
      label: "Niederschlagshoehe"
    },
    category: {
      id: "cat_dc4c2df7e0450c33a5477c6b8dafab4d",
      label: "Niederschlagshoehe"
    }
  },
  renderingHints: {
    chartType: "bar",
    properties: {
      interval: "byHour",
      width: "0.8",
      color: "#0000ff"
    }
  }
}</pre>
						</div>
					</div>
				</div>


			</section>

		</div>
    </div>


    <!-- Footer
    ================================================== -->

    <div class="col-lg-12">
      <footer class="footer">
          <div>
            <div class="pull-right">
              <a href="#">top</a>
            </div>

            <p>Design and Content <a href="http://52north.org/" target="_blank">52&deg;North</a>.</p>

            <p>Content licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>

            <p><a href="http://glyphicons.com">Glyphicons Free</a> licensed under <a
                href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>

            <ul class="footer-links">
              <li><a href="http://52north.org/swe">Sensor Web Community</a></li>
              <li class="muted">&middot;</li>
              <li><a href="mailto:h.bredel@52north.org">Contact</a></li>
            </ul>

          </div>
      </footer>
    </div>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="js/bootstrap-3.0.0-rc1/bootstrap.min.js"></script>
  </body>
</html>
